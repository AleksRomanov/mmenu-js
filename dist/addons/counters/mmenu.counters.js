Mmenu.addons.counters=function(){var t=this,i=this.opts.counters;if("boolean"==typeof i&&(i={add:i,count:i}),"object"!=typeof i&&(i={}),this.opts.counters=Mmenu.extend(i,Mmenu.options.counters),this.bind("initListview:after",function(e){var n=t.conf.classNames.counters.counter;Mmenu.refactorClass(e.querySelector("."+n),n,"mm-counter")}),i.add&&this.bind("initListview:after",function(e){var n;switch(i.addTo){case"panels":n=Mmenu.$(e);break;default:n=Mmenu.$(e).filter(i.addTo)}n.each(function(e,n){var t=n.mmParent;t&&(t.querySelector(".mm-counter")||Mmenu.$(t).children(".mm-btn").prepend($('<span class="mm-counter" />')))})}),i.count){function e(e){(e?[e]:Array.prototype.slice.call(Mmenu.$(this.node.pnls).children(".mm-panel"))).forEach(function(e,n){var t=e.mmParent;if(t){var i=t.querySelector(".mm-counter");if(i){var r=Mmenu.$(e).children(".mm-listview");if(r.length){var o=Array.prototype.slice.call(r.children());i.innerHTML=Mmenu.filterListItems(o).length.toString()}}}})}this.bind("initListview:after",e),this.bind("updateListview",e)}},Mmenu.options.counters={add:!1,addTo:"panels",count:!1},Mmenu.configs.classNames.counters={counter:"Counter"};