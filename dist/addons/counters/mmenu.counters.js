Mmenu.addons.counters=function(){var t=this,o=this.opts.counters;if("boolean"==typeof o&&(o={add:o,count:o}),"object"!=typeof o&&(o={}),"panels"==o.addTo&&(o.addTo=".mm-panel"),this.opts.counters=Mmenu.extend(o,Mmenu.options.counters),this.bind("initListview:after",function(n){var e=t.conf.classNames.counters.counter;n.querySelectorAll("."+e).forEach(function(n){Mmenu.refactorClass(n,e,"mm-counter")})}),o.add&&this.bind("initListview:after",function(n){if(n.matches(o.addTo)){var e=n.mmParent;if(e&&!e.querySelector(".mm-counter")){var t=Mmenu.DOM.create("span.mm-counter"),i=Mmenu.DOM.children(e,".mm-btn")[0];i&&i.prepend(t)}}}),o.count){function n(n){(n?[n]:Mmenu.DOM.children(this.node.pnls,".mm-panel")).forEach(function(n){var e=n.mmParent;if(e){var t=e.querySelector(".mm-counter");if(t){var i=[];Mmenu.DOM.children(n,".mm-listview").forEach(function(n){i.push.apply(i,Mmenu.DOM.children(n))}),t.innerHTML=Mmenu.filterListItems(i).length.toString()}}})}this.bind("initListview:after",n),this.bind("updateListview",n)}},Mmenu.options.counters={add:!1,addTo:"panels",count:!1},Mmenu.configs.classNames.counters={counter:"Counter"};