Mmenu.addons.iconPanels=function(){var n=this,i=this.opts.iconPanels,a=!1;if("boolean"==typeof i&&(i={add:i}),"number"!=typeof i&&"string"!=typeof i||(i={add:!0,visible:i}),"object"!=typeof i&&(i={}),"first"==i.visible&&(a=!0,i.visible=1),this.opts.iconPanels=Mmenu.extend(i,Mmenu.options.iconPanels),i.visible=Math.min(3,Math.max(1,i.visible)),i.visible++,i.add){this.bind("initMenu:after",function(){var e=["mm-menu_iconpanel"];i.hideNavbar&&e.push("mm-menu_hidenavbar"),i.hideDivider&&e.push("mm-menu_hidedivider"),n.node.menu.classList.add(e)});var l="";if(!a){for(var e=0;e<=i.visible;e++)l+=" mm-panel_iconpanel-"+e;l.length&&(l=l.slice(1))}function t(e){if(!e.parent(".mm-listitem_vertical").length){var n=this.node.$pnls.children(".mm-panel");a?n.removeClass("mm-panel_iconpanel-first").first().addClass("mm-panel_iconpanel-first"):n.removeClass(l).filter(".mm-panel_opened-parent").add(e).removeClass("mm-hidden").not(function(e,n){return!!Mmenu.$(n).parent(".mm-listitem_vertical").length}).slice(-i.visible).each(function(e,n){Mmenu.$(n).addClass("mm-panel_iconpanel-"+e)})}}this.bind("openPanel:start",t),this.bind("initPanels:after",function(e){t.call(n,n.node.$pnls.children(".mm-panel_opened"))}),this.bind("initListview:after",function(e){!i.blockPanel||e.parent(".mm-listitem_vertical").length||e.children(".mm-panel__blocker").length||e.prepend('<a href="#'+e.closest(".mm-panel")[0].id+'" class="mm-panel__blocker" />')})}},Mmenu.options.iconPanels={add:!1,blockPanel:!0,hideDivider:!1,hideNavbar:!0,visible:3};