Mmenu.addons.backButton=function(){var o=this;if(this.opts.offCanvas){var n=this.opts.backButton;"boolean"==typeof n&&(n={close:n}),"object"!=typeof n&&(n={}),this.opts.backButton=Mmenu.extend(n,Mmenu.options.backButton);var e="#"+this.node.menu.id;if(n.close){var i=[];function t(){i=[e],Mmenu.$(this.node.pnls).children(".mm-panel_opened-parent").add(Mmenu.$(this.node.pnls).children(".mm-panel_opened")).each(function(n,t){i.push("#"+t.id)})}this.bind("open:finish",function(){history.pushState(null,document.title,e)}),this.bind("open:finish",t),this.bind("openPanel:finish",t),this.bind("close:finish",function(){i=[],history.back(),history.pushState(null,document.title,location.pathname+location.search)}),Mmenu.$(window).on("popstate",function(n){if(o.vars.opened&&i.length){var t=(i=i.slice(0,-1))[i.length-1];t==e?o.close():(o.openPanel(Mmenu.$(t)),history.pushState(null,document.title,e))}})}n.open&&Mmenu.$(window).on("popstate",function(n){o.vars.opened||location.hash!=e||o.open()})}},Mmenu.options.backButton={close:!1,open:!1};