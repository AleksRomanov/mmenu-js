Mmenu.addons.setSelected=function(){var n=this,e=this.opts.setSelected;if("boolean"==typeof e&&(e={hover:e,parent:e}),"object"!=typeof e&&(e={}),this.opts.setSelected=Mmenu.extend(e,Mmenu.options.setSelected),"detect"==e.current){this.bind("initMenu:after",function(){(function e(t){t=t.split("?")[0].split("#")[0];var n=Mmenu.$(this.node.menu).find('a[href="'+t+'"], a[href="'+t+'/"]');if(n.length)this.setSelected(n.parent());else{var i=t.split("/").slice(0,-1);i.length&&e.call(this,i.join("/"))}}).call(n,window.location.href)})}else e.current||this.bind("initListview:after",function(e){e.find(".mm-listview").children(".mm-listitem_selected").removeClass("mm-listitem_selected")});e.hover&&this.bind("initMenu:after",function(){n.node.menu.classList.add("mm-menu_selected-hover")}),e.parent&&(this.bind("openPanel:finish",function(e){n.node.$pnls.find(".mm-listitem_selected-parent").removeClass("mm-listitem_selected-parent");for(var t=e[0].mmParent;t;)t.not(".mm-listitem_vertical").addClass("mm-listitem_selected-parent"),t=(t=t.closest(".mm-panel"))[0].mmParent}),this.bind("initMenu:after",function(){n.node.menu.classList.add("mm-menu_selected-parent")}))},Mmenu.options.setSelected={current:!0,hover:!1,parent:!1};