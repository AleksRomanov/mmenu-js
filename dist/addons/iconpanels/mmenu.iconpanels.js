Mmenu.addons.iconPanels=function(){var i=this,a=this.opts.iconPanels,l=!1;if("boolean"==typeof a&&(a={add:a}),"number"!=typeof a&&"string"!=typeof a||(a={add:!0,visible:a}),"object"!=typeof a&&(a={}),"first"==a.visible&&(l=!0,a.visible=1),this.opts.iconPanels=Mmenu.extend(a,Mmenu.options.iconPanels),a.visible=Math.min(3,Math.max(1,a.visible)),a.visible++,a.add){this.bind("initMenu:after",function(){var e,n=["mm-menu_iconpanel"];a.hideNavbar&&n.push("mm-menu_hidenavbar"),a.hideDivider&&n.push("mm-menu_hidedivider"),(e=i.node.menu.classList).add.apply(e,n)});var t="";if(!l){for(var e=0;e<=a.visible;e++)t+=" mm-panel_iconpanel-"+e;t.length&&(t=t.slice(1))}function n(e){if(!e.parent(".mm-listitem_vertical").length){var n=Mmenu.$(this.node.pnls).children(".mm-panel");l?n.removeClass("mm-panel_iconpanel-first").first().addClass("mm-panel_iconpanel-first"):n.removeClass(t).filter(".mm-panel_opened-parent").add(e).removeClass("mm-hidden").not(function(e,n){return!!Mmenu.$(n).parent(".mm-listitem_vertical").length}).slice(-a.visible).each(function(e,n){Mmenu.$(n).addClass("mm-panel_iconpanel-"+e)})}}this.bind("openPanel:start",n),this.bind("initPanels:after",function(e){n.call(i,Mmenu.$(i.node.pnls).children(".mm-panel_opened"))}),this.bind("initListview:after",function(e){!a.blockPanel||e.parent(".mm-listitem_vertical").length||e.children(".mm-panel__blocker").length||e.prepend('<a href="#'+e.closest(".mm-panel")[0].id+'" class="mm-panel__blocker" />')})}},Mmenu.options.iconPanels={add:!1,blockPanel:!0,hideDivider:!1,hideNavbar:!0,visible:3};