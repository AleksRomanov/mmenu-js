Mmenu.addons.iconbar=function(){var n=this,i=this.opts.iconbar;if(i instanceof Array&&(i={add:!0,top:i}),i.add){var s=null;if(["top","bottom"].forEach(function(e,a){var n=i[e];"array"!=Mmenu.typeof(n)&&(n=[n]);for(var t=Mmenu.$('<div class="mm-iconbar__'+e+'" />'),o=0,r=n.length;o<r;o++)t.append(n[o]);t.children().length&&(s||(s=Mmenu.$('<div class="mm-iconbar" />')),s.append(t))}),s&&(this.bind("initMenu:after",function(){n.node.menu.classList.add("mm-menu_iconbar"),Mmenu.$(n.node.menu).prepend(s)}),"tabs"==i.type)){s.addClass("mm-iconbar_tabs"),s.on("click.mm-iconbar","a",function(e){if(Mmenu.$(e.currentTarget).hasClass("mm-iconbar__tab_selected"))e.stopImmediatePropagation();else try{var a=n.node.menu.querySelector(e.currentTarget.getAttribute("href"));a&&a.classList.contains("mm-panel")&&(e.preventDefault(),e.stopImmediatePropagation(),n.openPanel(a,!1))}catch(e){}}),this.bind("openPanel:start",function e(a){var n=s.find("a");n.removeClass("mm-iconbar__tab_selected");var t=n.filter('[href="#'+a.id+'"]');if(t.length)t.addClass("mm-iconbar__tab_selected");else{var o=a.mmParent;o&&e.call(this,o.closest(".mm-panel"))}})}}},Mmenu.options.iconbar={add:!1,top:[],bottom:[],type:"default"};