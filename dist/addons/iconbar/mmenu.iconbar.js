Mmenu.addons.iconbar=function(){var r,n=this,m=this.opts.iconbar;if(("array"==Mmenu.typeof(m)&&(m={add:!0,top:m}),m.add)&&(["top","bottom"].forEach(function(e,t){var a=m[e];"array"!=Mmenu.typeof(a)&&(a=[a]);for(var n=Mmenu.DOM.create("div.mm-iconbar__"+e),i=0,o=a.length;i<o;i++)"string"==typeof a[i]?n.innerHTML+=a[i]:n.append(a[i]);n.children.length&&(r||(r=Mmenu.DOM.create("div.mm-iconbar")),r.append(n))}),r&&(this.bind("initMenu:after",function(){n.node.menu.classList.add("mm-menu_iconbar"),n.node.menu.prepend(r)}),"tabs"==m.type))){r.classList.add("mm-iconbar_tabs"),r.addEventListener("click",function(e){var t=e.target;if(t.matches("a"))if(t.matches(".mm-iconbar__tab_selected"))e.stopImmediatePropagation();else try{var a=n.node.menu.querySelector(t.getAttribute("href"))[0];a&&a.matches(".mm-panel")&&(e.preventDefault(),e.stopImmediatePropagation(),n.openPanel(a,!1))}catch(e){}}),this.bind("openPanel:start",function e(t){Mmenu.DOM.find(r,"a").forEach(function(e){e.classList.remove("mm-iconbar__tab_selected")});var a=Mmenu.DOM.find(r,'[href="#'+t.id+'"]')[0];if(a)a.classList.add("mm-iconbar__tab_selected");else{var n=t.mmParent;n&&e.call(this,n.closest(".mm-panel"))}})}},Mmenu.options.iconbar={add:!1,top:[],bottom:[],type:"default"};