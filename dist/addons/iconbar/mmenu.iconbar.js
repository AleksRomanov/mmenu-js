Mmenu.addons.iconbar=function(){var n=this,o=this.opts.iconbar;if(o instanceof Array&&(o={add:!0,top:o}),o.add){var m=null;if(["top","bottom"].forEach(function(a,e){var n=o[a];"array"!=Mmenu.typeof(n)&&(n=[n]);for(var t=Mmenu.$('<div class="mm-iconbar__'+a+'" />'),r=0,i=n.length;r<i;r++)t.append(n[r]);t.children().length&&(m||(m=Mmenu.$('<div class="mm-iconbar" />')),m.append(t))}),m&&(this.bind("initMenu:after",function(){n.node.menu.classList.add("mm-menu_iconbar"),Mmenu.$(n.node.menu).prepend(m)}),"tabs"==o.type)){m.addClass("mm-iconbar_tabs"),m.on("click.mm-iconbar","a",function(a){if(Mmenu.$(a.currentTarget).hasClass("mm-iconbar__tab_selected"))a.stopImmediatePropagation();else try{var e=Mmenu.$(a.currentTarget.getAttribute("href"));e.hasClass("mm-panel")&&(a.preventDefault(),a.stopImmediatePropagation(),n.openPanel(e,!1))}catch(a){}}),this.bind("openPanel:start",function a(e){var n=m.find("a");n.removeClass("mm-iconbar__tab_selected");var t=n.filter('[href="#'+e[0].id+'"]');if(t.length)t.addClass("mm-iconbar__tab_selected");else{var r=e[0].mmParent;r&&r.length&&a.call(this,r.closest(".mm-panel"))}})}}},Mmenu.options.iconbar={add:!1,top:[],bottom:[],type:"default"};