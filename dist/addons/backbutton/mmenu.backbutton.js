Mmenu.addons.backButton=function(){var e=this;if(this.opts.offCanvas){var n=this.opts.backButton;"boolean"==typeof n&&(n={close:n}),"object"!=typeof n&&(n={}),this.opts.backButton=Mmenu.extend(n,Mmenu.options.backButton);var o="#"+this.node.menu.id;if(n.close){var i=[];function t(){i=[o],Mmenu.DOM.children(this.node.pnls,".mm-panel_opened, .mm-panel_opened-parent").forEach(function(n){i.push("#"+n.id)})}this.bind("open:finish",function(){history.pushState(null,document.title,o)}),this.bind("open:finish",t),this.bind("openPanel:finish",t),this.bind("close:finish",function(){i=[],history.back(),history.pushState(null,document.title,location.pathname+location.search)}),window.addEventListener("popstate",function(n){if(e.vars.opened&&i.length){var t=(i=i.slice(0,-1))[i.length-1];t==o?e.close():(e.openPanel(e.node.menu.querySelector(t)),history.pushState(null,document.title,o))}})}n.open&&window.addEventListener("popstate",function(n){e.vars.opened||location.hash!=o||e.open()})}},Mmenu.options.backButton={close:!1,open:!1};